host = "247Ctf socket host"
port = "247ctf port number"



with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.connect((host, port))

    while True:
        data = s.recv(4096)
        if not data:
            break

        decoded = data.decode()
        print("Received:", decoded)

        # Reset variables
        num = ""
        num2 = ""
        symbol = ""
        after_symbol = False
        question = None

        lines = decoded.splitlines()
        for line in lines:
            if "What is the answer to" in line:
                question = line
                break

        if question is None:
            print("Final message or flag:", decoded)
            break

        # Parse question
        for char in question:
            if char in '+-*/':
                symbol = char
                after_symbol = True
            elif char.isdigit():
                if not after_symbol:
                    num += char
                else:
                    num2 += char

        # Compute result
        num = int(num)
        num2 = int(num2)
        if symbol == '+':
            result = num + num2
        elif symbol == '-':
            result = num - num2
        elif symbol == '*':
            result = num * num2
        elif symbol == '/':
            result = num // num2

        print(f"Sending: {result}")
        s.sendall((str(result) + '\r\n').encode())
